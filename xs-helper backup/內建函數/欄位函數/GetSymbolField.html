
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- Google tag (gtag.js) -->
<script async="async" src="https://www.googletagmanager.com/gtag/js?id=GTM-NHPFZR5F"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'GTM-NHPFZR5F');
    </script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=EmulateIE8" http-equiv="X-UA-Compatible"/>
<meta content="website" property="og:type"/>
<meta content="XS語法" property="og:site_name"/>
<meta content="https://xshelp.xq.com.tw/XSHelp/Content/Images/png-07-xs-155-90.png" property="og:image"/>
<meta content="GetSymbolField(內建函數) - XS語法" property="og:title"/>
<meta content='讀取系統內的欄位資料欄位數值 = GetSymbolField("ID", "欄位名稱")欄位數值 = GetSymbolField("ID", "欄位名稱","頻率")欄位數值 = GetSymbolField("ID", "欄位名稱", "頻率", 是否為還原值)欄位數值 = GetSymbolField("ID", "欄位名稱", "頻率", 是否為還原值, 設定預設值)傳入商品ID、欄位名稱、指定的欄位頻率、是否為還原值 以及 設定預設值。如果不傳頻率的話，則讀取目前執行頻率的對應欄位' property="og:description"/>
<link href="/XSHelp/Content/Images/favicon.ico" rel="icon" type="image/ico"/>
<link href="/XSHelp/Content/css?v=MmAetLgQWTpj53h5C1K54227FFaG9xOGVb-qgk1DRGE1" rel="stylesheet"/>
<script type="text/javascript">
        // todo: js 參數替換
        gConfig = {
            site_path: "/XSHelp/",
            site_url: "http://xshelp.xq.com.tw/",
            djsite_url: "http://jv-testweb/",
            url_suffix: "",
            runat_asp: "1",
            d: ""
        };
    </script>
<script src="/XSHelp/bundles/jquery?v=14H8EzIR27VT10jKdQjUdjivbIr5qhF08VKu4RwT7rI1"></script>
</head>
<body>
<!-- Google Tag Manager -->
<noscript>
<iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-WMXRLD" style="display:none;visibility:hidden" width="0"></iframe>
</noscript>
<script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WMXRLD');</script>
<!-- End Google Tag Manager -->
<div class="clearfix" id="container">
<div id="help-main">
<div class="menu_side">
<div class="xq_logo">
<a href="https://www.xq.com.tw/">
<img src="/XSHelp/Content/Images/png-xsh-180-60.png"/>
</a>
</div>
<div class="help_logo">
<img src="/XSHelp/Content/Images/png-07-xs-155-90.png"/>
</div>
<script charset="UTF-8" src="/XSHelp/Scripts/util.string.js" type="text/javascript"></script>
<script charset="UTF-8" src="/XSHelp/Scripts/jmoneyui.autolist.js" type="text/javascript"></script>
<script charset="UTF-8" src="/XSHelp/Scripts/util.onPos.js" type="text/javascript"></script>
<script charset="UTF-8" src="/XSHelp/Scripts/util.onRange.js" type="text/javascript"></script>
<link href="/XSHelp/Content/jmoneyui.autolist.css" rel="stylesheet" type="text/css"/>
<div class="search">
<input class="inputarea default" type="text" value="函數、關鍵字或欄位"/>
<button class="inputSearch"></button>
</div>
<script type="text/javascript">
    (function () {
        var cookie_key = 'search_record';
        $('.inputarea').autolist({
            source: function (req, res) {
                $.getJSON($.xshelp.genDJPath(gConfig['site_path'] + 'rest', { a: encodeURIComponent(req.term) }), null, function (data) {
                    var x = $.map(data, function (val, i) {
                        return {
                            label: cText(val),
                            value: $.xshelp.genDJPath(gConfig['site_path'] + 'index', { HelpName: encodeURIComponent(val['name']), group: val['Description'] })
                        };
                    });
                    res(x);
                });
            },
            select: function (event, ui) {
                var val = $(this).val();
                var url = $.xshelp.genDJPath(gConfig['site_path'] + 'search', { a: encodeURIComponent(val) });
                $.cookie(cookie_key, decodeURIComponent(url), { secure: true });
                window.location = ui.item.value;
            },
            directEnter: function (event, ui) {
                var keyword = $(this).val();
                if (typeof keyword == 'string' && keyword != '') {
                    var url = $.xshelp.genDJPath(gConfig['site_path'] + 'search', { a: encodeURIComponent(keyword) });
                    $.cookie(cookie_key, decodeURIComponent(url), { secure: true });
                    window.location = url;
                }
            },
            dataMax: 50
        });

        $('.inputSearch').click(function () {
            var keyword = $('.inputarea').val();
            if (typeof keyword == 'string' && keyword != '') {
                var url = $.xshelp.genDJPath(gConfig['site_path'] + 'search', { a: encodeURIComponent(keyword) });
                $.cookie(cookie_key, decodeURIComponent(url), { secure: true });
                window.location = url;
            }
        });

        function cText(obj) {
            if (/^1/.test(obj['categoryid'])) {
                return obj['name'] + '(' + obj['father'] + ')';
            }
            if (/^(2|3)/.test(obj['categoryid'])) {
                //                var str = (obj['ename'])? obj['ename'] : obj['abbrev'];
                return obj['name'] + '(' + obj['father'] + ')';
            }
            if (/^4/.test(obj['categoryid'])) {
                return obj['name'] + '(' + obj['father'] + ')';
            }
        }
    })();

</script>
<div id="cssmenu">
<ul>
<li>
<a href="javascript:void(0);"><span>檢視紀錄</span></a>
<ul></ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>關鍵字</span></a>
<ul>
<li class="even">
<a href="/XSHelp/lists?a=SKIPWORD">忽略字</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=CONSTANT">常數</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=CONTROLFLOW">流程控制</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=DECLARATION">宣告</a>
</li>
</ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>內建函數</span></a>
<ul>
<li class="even">
<a href="/XSHelp/lists?a=GENERALFUNC">一般函數</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=TIMEFUNC">時間函數</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=DATEFUNC">日期函數</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=STRINGFUNC">字串函數</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=NUMBERFUNC">數學函數</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=FIELDFUNC">欄位函數</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=ARRAYFUNC">陣列函數</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=TRANSACTIONFUNC">交易函數</a>
</li>
</ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>系統函數</span></a>
<ul>
<li class="odd">
<a href="/XSHelp/lists?a=PRICEGETFUNC">價格取得</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=PRICECULFUNC">價格計算</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=PRICERELFUNC">價格關係</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=TECHINDEXFUNC">技術指標</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=DATERELFUNC">日期相關</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=TRANSACTIONRELFUNC">交易相關</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=STATSFUNC">統計分析</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=TRENDFUNC">趨勢分析</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=LOGICFUNC">邏輯判斷</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=FUTUREFUNC">期權相關</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=FREQUENCYFUNC">跨頻率</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=ARRAYSYSFUNC">Array函數</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=VOLUMERELFUNC">量能相關</a>
</li>
</ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>報價欄位</span></a>
<ul>
<li class="odd">
<a href="/XSHelp/lists?a=QOFTEN">常用</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=QPRICE">價格</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=QVOLUME">量能</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=QFINANCE">財務</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=QMARKET">市場統計</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=QOPTION">期權</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=QFIVE">五檔統計</a>
</li>
</ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>資料欄位</span></a>
<ul>
<li class="odd">
<a href="/XSHelp/lists?a=TOFTEN">常用</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=TPRICE">價格</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=TVOLUME">量能</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=TCHIP">籌碼</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=TBASIC">基本</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=TEVENT">事件</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=TMARKET">市場統計</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=TOPTION">期權</a>
</li>
</ul>
</li>
<li class="has-sub">
<a href="javascript:void(0);"><span>選股欄位</span></a>
<ul>
<li class="odd">
<a href="/XSHelp/lists?a=FOFTEN">常用</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=FPRICE">價格</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=FVOLUME">量能</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=FCHIP">籌碼</a>
</li>
<li class="odd">
<a href="/XSHelp/lists?a=FBASIC">基本</a>
</li>
<li class="even">
<a href="/XSHelp/lists?a=FFINANCE">財務</a>
</li>
<li class="last odd">
<a href="/XSHelp/lists?a=FEVENT">事件</a>
</li>
</ul>
</li>
<li><a class="search_record" href="javascript:void(0);"><span>搜尋記錄</span></a></li>
<li class="last">
<a href="https://github.com/sysjust-xq/XScript_Preset" target="_blank">
<span title="系統腳本的程式碼集">GitHub</span>
</a>
</li>
</ul>
</div>
<script charset="UTF-8" src="/XSHelp/Scripts/menu-jquery.js" type="text/javascript"></script>
<script type="text/javascript">
    (function () {
        var obj = $.cookie('search_record');
        if (obj != null && typeof obj == 'string' && obj) {
            $('.search_record').attr('href', obj);
        }

        var list = $.cookie($.xshelp.ViewRecookieName);
        var ary = [];
        if (list != null) {
            ary = list.split(",");
        }
        ary = $.map(ary, function (n, i) {
            var item = n.split('*');
            return { link: $.xshelp.genDJPath('index', { HelpName: encodeURIComponent(item[0]), group: item[1] }), name: item[0] };
        });

        if (ary.length > 0) {
            var str = '';
            $.each(ary, function (i, o) {
                str += '<li title="' + o['name'] + '"><a href="' + o['link'] + '"><span>' + o['name'] + '</span></a></li>';
            });
            $('#cssmenu > ul > li:first').addClass('has-sub').children('ul').append(str);
        }
    })();
</script>
</div>
<div class="result">
<div class="content-txt">
<div class="content-txt">
<div class="fnc-title">
        GetSymbolField -  (內建函數)
        <span class="fnc-tag">欄位函數</span>
</div>
<div class="section-title">語法：</div>
<div class="syntax">
        讀取系統內的欄位資料<br/>欄位數值 = GetSymbolField("ID", "欄位名稱")<br/>欄位數值 = GetSymbolField("ID", "欄位名稱","頻率")<br/>欄位數值 = GetSymbolField("ID", "欄位名稱", "頻率", 是否為還原值)<br/>欄位數值 = GetSymbolField("ID", "欄位名稱", "頻率", 是否為還原值, 設定預設值)<br/>傳入商品ID、欄位名稱、指定的欄位頻率、是否為還原值 以及 設定預設值。<br/>如果不傳頻率的話，則讀取目前執行頻率的對應欄位
    </div>
<div class="section-title">說明：</div>
<div class="desc">
<p>GetSymbolField是GetField語法的延伸，在取得欄位相關資料時可以指定商品，透過這個函數可以在腳本中取得其他商品的欄位資料。</p>
<p>GetSymbolField函數可以傳入五個參數：</p>
<ul>
<li>第一個參數是商品代碼，</li>
<li>第二個參數是欄位的中文或是英文名稱，</li>
<li>第三個參數則是欄位的頻率，如果省略這個參數的話，則會依照目前腳本執行的頻率來取得對應的資料</li>
<li>第四個參數則為「是否為還原值」運用 <a href="article.aspx?a=Adjusted">Adjusted參數</a> 來設定要讀取的是原始資料，還是還原資料。</li>
<li>第五個參數為「設定預設值」運用 Default 參數來設定沒有資料時所回傳的預設值。</li>
</ul>
<p>當你點選XS編輯器內的編輯選單/插入欄位選項，或是按快捷鍵F7，利用「插入欄位」畫面加入欄位的同時，如果在商品欄位填入有效商品時，系統會自動插入GetSymbolField函數（沒填商品時是插入GetField函數）。插入欄位畫面沒有還原分鐘的選項，如果使用者需要取的還原分鐘相關資料，請直接撰寫在腳本中。</p>
<p><img alt="插入商品選股欄位" src="https://www.xq.com.tw/xstrader/wp-content/uploads/2016/11/InsertSymbolField_Filter.png"/></p>
<p>以下是一個簡單的範例：</p>
<pre><code>Value1 = getsymbolField("1101.TW", "收盤價");　// value1 為取得目前腳本執行頻率的台泥(1101)收盤價。
Value2 = getsymbolField("1101.TW", "收盤價", "1");　// value2 為取得原始1分鐘頻率的台泥(1101)收盤價。
Value3 = getsymbolField("1101.TW", "收盤價", "1", Adjusted:=true);　// value3 為取得還原1分鐘頻率的台泥(1101)收盤價。
Value4 = getsymbolField("1101.TW", "收盤價", "1", Adjusted:=true, Default:= 0);　// value3 為取得還原1分鐘頻率的台泥(1101)收盤價，當取不到資料時預設值為0。
</code></pre>
<hr/>
<p>另外在「插入欄位」畫面的商品下拉式選單有「標的商品、期貨近/遠/次遠月」選項，選擇後按下插入，系統會自動插入GetSymbolField取得標的商品相關欄位的語法在XS編輯器中，編譯成功後加入相關應用，即可取得商品的「標的商品、期貨近/遠/次遠月」相關欄位數據。</p>
<p><img alt="插入標的商品欄位" src="https://www.xq.com.tw/wp-content/uploads/2021/07/20210721_%E6%8F%92%E5%85%A5%E6%A8%99%E7%9A%84%E5%95%86%E5%93%81.png"/></p>
<p>以下是 GetSymbolField「標的商品、期貨近/遠/次遠月」範例：</p>
<pre><code>//假設以下情境：
//1. 執行商品：台積電期近月(FICDF*1.TF)
//2. 執行時間：08月24日
//3. 加入雷達，進行盤中雷達實際測試。


if getinfo("IsRealTime") &lt;&gt; 1 then return;
//只跑在即時資料區間段，原因是跑 GetSymbolField("Future*2", "收盤價") 會取得遠月的收盤價，但遠月歷史資料期間短，故僅跑在即時資料區間段。


value1 = GetSymbolField("Underlying", "收盤價");
//value1是台積電期近月之標的商品收盤價；
//也就是台積電(2330.TW)收盤價。


value2 = GetSymbolField("Future*1", "收盤價");
//value2是台積電期近月之期貨近月收盤價；
//在此範例就是台積電期09月(FICDF09.TF)收盤價。


value3 = GetSymbolField("Future*2", "收盤價");
//value3是台積電期近月之期貨遠月收盤價。
//在此範例就是台積電期10月(FICDF10.TF)收盤價。
</code></pre>
<p>詳細的語法說明可以參考 <a href="api?a=getfield&amp;b=bif">GetField</a>函數。</p>
</div>
</div>
<!-- XSHighlight -->
<link href="https://www.moneydj.com/XSHighlight/main.css" rel="stylesheet"/>
<script src="https://www.moneydj.com/XSHighlight/main-with-react.js"></script>
<style>
    pre {
        padding: 0;
        margin: 0;
        background-color: #ffffff;
        border: 0;
    }
</style>
<script language="javascript" type="text/javascript">
    if (XSHighlight) {
        const nodes = document.querySelectorAll('pre>code');
        XSHighlight.render(XSHighlight.Viewer, { enableCopy: true }, nodes);
    }
</script>
<script type="text/javascript">
    var name = $.xshelp.getUrlParam('HelpName');
    var category = $.xshelp.getUrlParam('group');
    if (name && category) {
        $.getJSON($.xshelp.genDJPath(gConfig['site_path'] + 'getf', { a: name, g: category }), null, function (data) {
            var list = $.cookie($.xshelp.ViewRecookieName);
            var str = data.name + '*' + category;
            if (typeof list == 'undefined' || list === null) {
                $.cookie($.xshelp.ViewRecookieName, str, { secure: true });
            }
            else {
                var ary = list.split(',');
                var existed = false;
                $.each(ary, function (i, o) {
                    var name = o.split('*')[0];
                    if (name == data.name) {
                        existed = true;
                        return false;
                    }
                });
                if (!existed) {
                    if (ary.length >= 10) {
                        ary.pop();
                    }
                    ary.unshift(str);
                    $.cookie($.xshelp.ViewRecookieName, ary.join(','), { secure: true });
                }
            }
        });
    }
</script>
</div>
</div>
</div>
</div>
<footer>
<center>
<div class="footer">
<div class="footer_div">
<div class="flogo">
<img src="/XSHelp/Content/Images/png-00-header-xqlite-180-60.png"/>
</div>
<div class="ftext">
                    客服電話：0800-006-098 客服信箱：<a href="mailto:XQservice@XQ.com.tw">XQservice@XQ.com.tw</a><br/>
                    最佳瀏覽模式：解析度1024*768以上；瀏覽器建議使用 IE9.0以上。<br/>
                    本站內容僅供參考，本公司不負任何法律責任，投資人若依此以為買賣依據，須自負盈虧之責。<br/>
                    版權所有嘉實資訊股份有限公司，未經合法授權請勿翻載。 與本網站有關一切糾紛與法律問題，<br/>均依中華民國相關法令解釋及適用之。<br/>
</div>
</div>
</div>
</center>
</footer>
<script type="text/javascript">
        $(function () {
            var deheight = document.documentElement.clientHeight;
            var dheight = document.body.clientHeight;
            if (deheight > dheight)
                $('#help-main').css('min-height', deheight - 237);
            else
                $('#help-main').css('min-height', dheight - 237);
        });
    </script>
</body>
</html>
